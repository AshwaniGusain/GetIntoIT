@page "/Mapslocation"
@inject IJSRuntime JSRuntime

<h1>Display Google Map</h1>
<input id="from" type="text" placeholder="Enter a location">
<input id="to" type="text" placeholder="Enter a location">
<button onclick="calculateDistance()">Calculate distance</button>
<div id="placeName"></div>
<div id="distance"></div>
<div id="Duration"></div>
<div id="Totalprice"></div>
<div id="map" style="height:500px;width:100%;">
</div>

@code{

    private ElementReference distance;
    private ElementReference Duration;
    private ElementReference Totalprice;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("initialize", null);
            StateHasChanged();
            await JSRuntime.InvokeVoidAsync("showMap", null);
            StateHasChanged();
            await JSRuntime.InvokeVoidAsync("initAutocomplete");
            //var divValuedistance = await JSRuntime.InvokeAsync<string>("getInnerHTML", distance);
            //var divValueDuration = await JSRuntime.InvokeAsync<string>("getInnerHTML", Duration);
        }

    }

    public double GetRidePrice(double distance, double Duration)
    {
        int MinPrice = 120;
        return MinPrice * distance;
    }
}

